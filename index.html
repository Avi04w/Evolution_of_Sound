<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Evolution of Sound</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bubble.css">
    <link rel="stylesheet" href="css/record_player.css">
    <link rel="stylesheet" href="css/vis2.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>

</head>
<body>
<!--<header>-->
<!--    <h1>The Evolution of Sound</h1>-->
<!--    <h2>Visualizing 30 Years of Pop Culture Through Data</h2>-->
<!--</header>-->

<!-- single scroll container -->
<div class="pageScroller">

    <!-- Intro -->
    <!-- <header class="snap">
        <h1>The Evolution of Sound</h1>
        <h2>Visualizing 40 Years of Pop Culture Through Data</h2>
    </header> -->

    <!-- ðŸŒ Bubble Universe Visualization -->
    <section class="vis-section snap" id="bubble-section">
        <div id="bubble-viz-container" class="chart-space">
            <svg id="bubble-viz"></svg>
            <div id="bubble-tooltip" class="bubble-tooltip"></div>
        </div>
    </section>

    <!-- ðŸŽµ Vinyl Record Player Visualization -->
    <section>
        <div id="record-player-container" class="chart-space">
            <div id="record-player-shell-out">
                <div id="record-player-shell-mid">
                    <div id="record-player-shell-in">
                        <div id="record-player-image-container">
                            <img id="record-player-image" style="display:none;" src="" class="unselectable" />
                            <div id="record-player-pause" class="unselectable"><span></span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="record-player-arm"></div>
        </div>
        <audio id="player"></audio>
    </section>


    <section class="vis-section snap" id="universe-section">
        <iframe
            src="universe.html"
            title="Music Universe - Interactive Visualization"
            loading="lazy"
            class="universe-embed"
            allowfullscreen
        ></iframe>
    </section>

    <!-- ðŸ§¬ DNA Helix Visualization Section -->
    <section class="vis-section snap" id="dna-section">
        <div class="text-block">
            <h3>The DNA of Music</h3>
            <p>
                Music, like DNA, evolves through subtle changes in rhythm, tone, and structure.
                This helix represents the ever-changing genetic code of sound across decades.
                Click on a year to discover more about the chart-topping songs of that year and their unique musical traits.
            </p>
        </div>
        <div id="vis-dna" class="chart-space"></div>
        <div id="vis-dna-yearly" class="chart-space" style="display:none"></div>
    </section>

    <!-- ðŸŒ Geographical Music Explorer -->
    <section class="vis-section snap" id="geo-section">
<!--        <div class="text-block">-->
<!--            <h3>Global Soundscape</h3>-->
<!--            <p>-->
<!--                Explore how music has transcended borders and genres to connect people around the world.-->
<!--                This visualization highlights the global spread of popular songs and how musical tastes evolved geographically through the years.-->
<!--            </p>-->
<!--        </div>-->
<!--        <div id="vis-global" class="chart-space">-->
            <iframe
                    src="geographical.html"
                    title="Geographical Music Explorer"
                    loading="lazy"
                    class="geographical-embed"
                    allowfullscreen
            ></iframe>
<!--        </div>-->
    </section>

    <!-- ðŸŽ¼ Genre Treemap Visualization -->
    <section class="vis-section snap" id="genre-section">
        <div class="chart-container">
            <h2 class="chart-title">How Genres Defined Each Yearâ€™s Music Scene</h2>
            <p class="chart-description">
                A treemap showing how dominant music genres shaped the charts each year.
            </p>
            <div id="vis2" class="chart-space"></div>
        </div>
    </section>


</div> <!-- /.pageScroller -->

<footer>
    <p>Created by ___ â€¢ Data Source: Spotify, Kaggle Global Music Charts</p>
</footer>

<!-- JS Scripts -->
<script src="js/vinyl_record.js"></script>
<script src="js/vis_bubble.js"></script>
<script src="js/vis_dna_yearly.js"></script>
<script src="js/vis_dna.js"></script>
<script src="js/scroll_snap.js"></script>

<script>
    function fadeOut(el, ms = 250) {
        return new Promise((resolve) => {
            el.style.opacity = 1;
            el.style.transition = `opacity ${ms}ms ease`;
            requestAnimationFrame(() => {
                el.style.opacity = 0;
                setTimeout(() => {
                    el.style.display = "none";
                    resolve();
                }, ms);
            });
        });
    }

    function fadeIn(el, ms = 250, display = "block") {
        return new Promise((resolve) => {
            el.style.opacity = 0;
            el.style.display = display;
            el.style.transition = `opacity ${ms}ms ease`;
            requestAnimationFrame(() => {
                el.style.opacity = 1;
                setTimeout(resolve, ms);
            });
        });
    }
</script>

<script src="js/vis2.js"></script>
<script>
    const dnaVis = new VisDNA("#vis-dna", { width: 1300, height: 360 });
    dnaVis.start?.();
</script>
</body>
</html>
