<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Evolution of Sound</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bubble.css">
    <link rel="stylesheet" href="css/record_player.css">
    <link rel="stylesheet" href="css/vis2.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>

</head>
<body>
<header>
    <h1>The Evolution of Sound</h1>
    <h2>Visualizing 30 Years of Pop Culture Through Data</h2>
</header>

<main>
    <!-- ðŸ§¬ DNA Helix Visualization Section -->
    <section class="vis-section" id="dna-section">
        <div class="text-block">
            <h3>The DNA of Music</h3>
            <p>
                Music, like DNA, evolves through subtle changes in rhythm, tone,
                and structure. This helix represents the ever-changing
                genetic code of sound across decades. Click on a year to discover more about
                the chart-topping songs of that year and their unique musical traits.
            </p>
        </div>
        <div id="vis-dna" class="chart-space"></div>
        <div id="vis-dna-yearly" class="chart-space" style="display: none"></div>
    </section>
</main>

<!-- JS Scripts --> 
<script src="js/vis_dna_yearly.js"></script>
<script src="js/vis_dna.js"></script>
<script>
    function fadeOut(el, ms = 250) {
        return new Promise((resolve) => {
            el.style.opacity = 1;
            el.style.transition = `opacity ${ms}ms ease`;
            requestAnimationFrame(() => {
                el.style.opacity = 0;
                setTimeout(() => {
                    el.style.display = "none";
                    resolve();
                }, ms);
            });
        });
    }

    function fadeIn(el, ms = 250, display = "block") {
        return new Promise((resolve) => {
            el.style.opacity = 0;
            el.style.display = display;
            el.style.transition = `opacity ${ms}ms ease`;
            requestAnimationFrame(() => {
                el.style.opacity = 1;
                setTimeout(resolve, ms);
            });
        });
    }
</script>

<script src="js/vis2.js"></script>
<script>
    const dnaVis = new VisDNA("#vis-dna", { width: 1300, height: 360 });
    dnaVis.start?.();
</script>
</body>
</html>
